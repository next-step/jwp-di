# DI í”„ë ˆìž„ì›Œí¬ êµ¬í˜„
## ì§„í–‰ ë°©ë²•
* í”„ë ˆìž„ì›Œí¬ êµ¬í˜„ì— ëŒ€í•œ ìš”êµ¬ì‚¬í•­ì„ íŒŒì•…í•œë‹¤.
* ìš”êµ¬ì‚¬í•­ì— ëŒ€í•œ êµ¬í˜„ì„ ì™„ë£Œí•œ í›„ ìžì‹ ì˜ github ì•„ì´ë””ì— í•´ë‹¹í•˜ëŠ” ë¸Œëžœì¹˜ì— Pull Request(ì´í•˜ PR)ë¥¼ í†µí•´ ì½”ë“œ ë¦¬ë·° ìš”ì²­ì„ í•œë‹¤.
* ì½”ë“œ ë¦¬ë·° í”¼ë“œë°±ì— ëŒ€í•œ ê°œì„  ìž‘ì—…ì„ í•˜ê³  ë‹¤ì‹œ PUSHí•œë‹¤.
* ëª¨ë“  í”¼ë“œë°±ì„ ì™„ë£Œí•˜ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë„ì „í•˜ê³  ì•žì˜ ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.

## ì˜¨ë¼ì¸ ì½”ë“œ ë¦¬ë·° ê³¼ì •
* [í…ìŠ¤íŠ¸ì™€ ì´ë¯¸ì§€ë¡œ ì‚´íŽ´ë³´ëŠ” ì˜¨ë¼ì¸ ì½”ë“œ ë¦¬ë·° ê³¼ì •](https://github.com/next-step/nextstep-docs/tree/master/codereview)

---

# ðŸš€ 1ë‹¨ê³„ - DI êµ¬í˜„

### ìš”êµ¬ì‚¬í•­
> ê° í´ëž˜ìŠ¤ì— ëŒ€í•œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ì˜ì¡´ê´€ê³„ ì„¤ì •ì„ ì• ë…¸í…Œì´ì…˜ìœ¼ë¡œ ìžë™í™”í•œë‹¤.  
> ì—­í• ì— ë§žëŠ” `Controller, Service, Repository` ì• ë„ˆí…Œì´ì…˜ì„ ì„¤ì •í•œë‹¤.  
> ì¸ìŠ¤í„´ìŠ¤ ê°„ì˜ ì˜ì¡´ ê´€ê³„ëŠ” `@Inject` ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œë‹¤.  

### ì¶”ê°€ ìš”êµ¬ì‚¬í•­
> ControllerScanì„ ì¶”ê°€ëœ ì• ë„ˆí…Œì´ì…˜ì„ ì§€ì›í•˜ë„ë¡ ê°œì„ í•œë‹¤.  
> ì—­í• ì´ ë³€ê²½ë˜ì—ˆìœ¼ë‹ˆ í´ëž˜ìŠ¤ ì´ë¦„ë„ BeanScannerë¡œ ë³€ê²½í•œë‹¤.  
> AnnotationHandlerMappingì´ BeanFactoryì™€ BeanScannerë¥¼ í™œìš©í•´ ë™ìž‘í•˜ë„ë¡ ë¦¬íŒ©í† ë§ í•œë‹¤.  

### ê¸°ëŠ¥ ëª©ë¡
- [x] BeanFactoryTest ì˜ di() í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ë©´ DI í”„ë ˆìž„ì›Œí¬ êµ¬í˜„ ì™„ë£Œ.
  - BeanFactoryUtils í´ëž˜ìŠ¤ í™œìš©
  - ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì€ ìŠ¤í”„ë§ì˜ BeanUtilsì˜ instantiateClass() ë©”ì„œë“œ ì‚¬ìš©ê°€ëŠ¥
- [x] BeanFactoryUtils í…ŒìŠ¤íŠ¸ ì½”ë“œ ìž‘ì„±
  - [x] getInjectedConstructor 
  - [x] findConcreteClass 
- [x] BeanFactory ì˜ initialize êµ¬í˜„
  - [x] ìƒì„±ìžë¡œ ì£¼ìž… ë°›ì€ í´ëž˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
  - [x] ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ëŠ” íƒ€ìž…ì„ í‚¤ë¡œ í•˜ëŠ” Map ì— ì €ìž¥í•œë‹¤.
  - [x] ìƒì„±ì— í•„ìš”í•œ ë¹ˆì´ Map ì— ì—†ìœ¼ë©´ í•´ë‹¹ ë¹ˆë„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
  - [x] ìƒì„±ì— í•„ìš”í•œ ë¹ˆì´ Map ì— ìžˆìœ¼ë©´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì— í™œìš©í•œë‹¤.
- [x] íŠ¹ì • ì• ë„ˆí…Œì´ì…˜ì´ ì ìš©ëœ í´ëž˜ìŠ¤ë“¤ì„ ì°¾ëŠ”ë‹¤.
  - [x] ì—¬ëŸ¬ê°œì˜ ì• ë„ˆí…Œì´ì…˜ì„ ê°€ë³€ì¸ìžë¡œ ì „ë‹¬í•  ìˆ˜ ìžˆë‹¤. 
- [x] ControllerScan ì—ì„œ Service, Repository ì• ë„ˆí…Œì´ì…˜ì„ ì§€ì›í•˜ë„ë¡ ê°œì„ 
  - [x] ìŠ¤ìº” ëŒ€ìƒ ì• ë…¸í…Œì´ì…˜ ì¶”ê°€ 
- [x] í´ëž˜ìŠ¤ ì´ë¦„ ë° íŒ¨í‚¤ì§€ ë³€ê²½ core.mvc.tobe.ControllerScan -> core.di.factory.BeanScanner
- [x] BeanFactoryì™€ BeanScannerë¥¼ í™œìš©í•˜ì—¬ ë¦¬íŒ©í† ë§

# ðŸš€ 2ë‹¨ê³„ - DI êµ¬í˜„(ížŒíŠ¸)

### 1ë‹¨ê³„ í”¼ë“œë°±
- [x] BeanFactory: private ë©”ì„œë“œë¥¼ í˜¸ì¶œ ìˆœì„œë¡œ ì •ë ¬
  > í´ë¦°ì½”ë“œ   
  > **ì½”ë“œëŠ” ì‹ ë¬¸ ê¸°ì‚¬ë¥¼ ì½ë“¯ì´, ìœ„ì—ì„œ ì•„ëž˜ë¡œ ì½ì–´ ë‚´ë ¤ê°€ë©° ì´í•´í•  ìˆ˜ ìžˆì–´ì•¼ í•œë‹¤.**   
  > ê¸°ëŠ¥ì€ ìœ„ì—ì„œë¶€í„° ì•„ëž˜ ìˆœì„œë¡œ ì½ì–´ë‚´ë¦´ ìˆ˜ ìžˆê²Œ ì„œìˆ ë˜ì–´ì•¼ í•˜ë©°,   
  > ë¹„ìŠ·í•œ ê¸°ëŠ¥ì€ ì„œë¡œ ê°€ê¹Œìš´ í–‰ì— ë°°ì¹˜í•˜ë©´ ì½ëŠ” ì‚¬ëžŒì´ ì´í•´í•˜ê¸° ì‰½ë‹¤.   
- [x] BeanFactory: ë¶ˆí•„ìš”í•œ static í‚¤ì›Œë“œ ì œê±°
  - IDE ìžë™ ì™„ì„±ìœ¼ë¡œ ì¸í•œ static ì¶”ê°€.. í•­ìƒ í™•ì¸í•˜ê¸°!
- [x] BeanFactoryUtils#findImplementedConcreteClass
  - contains ë¡œì§ê¹Œì§€ ëª¨ë‘ ë©”ì„œë“œë¡œ ë¶„ë¦¬í•˜ì—¬ ì§ì ‘ ë¹„êµí•˜ì§€ ì•Šê³  ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸°.
- [x] BeanFactoryUtils: íŒŒë¼ë¯¸í„°ëª… ë³€ê²½ (beans -> bean) 
  - ìœ„ í”¼ë“œë°± ë°˜ì˜ìœ¼ë¡œ í•´ë‹¹ì‚¬í•­ ì—†ìŒ
- [x] BeanScanner: ë³€ìˆ˜ëª… ë³€ê²½ (controllers -> controllerTypes)
  - ì¼ê´€ì„± ì´ë¦„ì„ ì‚¬ìš©í•´ì•¼ ì½”ë“œë¥¼ ì½ì„ ë•Œ í˜¼ëž€ì„ ì¤„ì¼ ìˆ˜ ìžˆë‹¤
- [x] BeanFactoryUtils#getInjectedConstructor `@Inject` ì• ë„ˆí…Œì´ì…˜ì´ 2ê°œ ì´ìƒ ê°ì§€ë˜ë©´ ì˜ˆì™¸ ë°œìƒ
  - API ì‚¬ìš©ìžê°€ ì£¼ì„ì„ ì½ì§€ ì•Šê³  ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ì„œ ì˜ˆì™¸ë¥¼ ë˜ì§„ë‹¤ë©´ ê°œë°œ ì¤‘ì— ë¹ ë¥´ê²Œ ì¸ì§€í•  ìˆ˜ ìžˆì„ ê²ƒ ê°™ë‹¤.

--- 

# ðŸš€ 3ë‹¨ê³„ - @Configuration ì„¤ì •

### ìš”êµ¬ì‚¬í•­
- `@Configuration` ì• ë„ˆí…Œì´ì…˜ì„ ì„¤ì •ìš© ìžë°” í´ëž˜ìŠ¤ íŒŒì¼ìž„ì„ ëª…ì‹œí•œë‹¤.
- `@Configuration` ì• ë„ˆí…Œì´ì…˜ì´ ì ìš©ëœ í´ëž˜ìŠ¤ì—ì„œ BeanFactory ì— Bean ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ë©”ì„œë“œëŠ” `@Bean` ì• ë„ˆí…Œì´ì…˜ì„ ì ìš©í•œë‹¤.
- `@ComponentScan` ì• ë„ˆí…Œì´ì…˜ì„ í™œìš©í•´ BeanScanner ì—ì„œ ì ìš©í•  íŒ¨í‚¤ì§€ë¥¼ ì°¾ëŠ”ë‹¤.
- `@Configuration` ì„¤ì • íŒŒì¼ì„ í†µí•´ ë“±ë¡í•œ ë¹ˆê³¼ BeanScanner ë¥¼ í†µí•´ ë“±ë¡ ë¹ˆ ìƒí˜¸ ê°„ì—ë„ DIê°€ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.

### ê¸°ëŠ¥ëª©ë¡
- [x] ReflectionUtils invokeMethod ë©”ì„œë“œ ì¶”ê°€
  - ë©”ì„œë“œë¥¼ ì‹¤í–‰í•  ì¸ìŠ¤í„´ìŠ¤, ë©”ì„œë“œ, ë©”ì„œë“œ ì‹¤í–‰ì— í•„ìš”í•œ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ì—¬ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.
- [x] íŠ¹ì • íŒ¨í‚¤ì§€ë‚´ì—ì„œ `@Configuration` ì• ë„ˆí…Œì´ì…˜ì´ ì ìš©ëœ í´ëž˜ìŠ¤ë¥¼ ì°¾ëŠ”ë‹¤.
  - [x] `@Configuration` ì• ë„ˆí…Œì´ì…˜ì´ ì ìš©ëœ í´ëž˜ìŠ¤ì—ì„œ `@Bean` ì• ë„ˆí…Œì´ì…˜ì´ ì ìš©ëœ ë©”ì„œë“œë¥¼ ì°¾ëŠ”ë‹¤.
    - [x] scan ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ BeanFactory ë¥¼ ì£¼ìž…í•˜ì—¬ BeanFactory ì— ìƒì„±ëœ ë¹ˆì„ ë“±ë¡í•œë‹¤.
      - [x] íŒŒë¼ë¯¸í„°ì˜ ìˆ˜ê°€ ì ì€ ìˆœìœ¼ë¡œ ë¹ˆì„ ìƒì„±í•œë‹¤.
    - ìˆœí™˜ ì°¸ì¡°ë¡œ ì¸í•´ ë¹ˆì„ ìƒì„±í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ê°€ ìƒê¸°ê¸° ë•Œë¬¸ì— ì˜ì¡´ì„±ì´ ê°€ìž¥ ë‚®ì€ ë¹ˆë¶€í„° ìƒì„±í•œë‹¤.
      - [x] ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ê°€ ì—†ìœ¼ë©´ ë©”ì„œë“œë¥¼ ì‹¤í–‰ ì‹œí‚¤ê³  ë©”ì„œë“œëª…ì„ key, ë¦¬í„´ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ value ë¡œ BeanFactory ì— ë“±ë¡í•œë‹¤.
      - [x] ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ê°€ ìžˆìœ¼ë©´ ë©”ì„œë“œë¥¼ ì‹¤í–‰ ì‹œí‚¤ê¸° ì „ì— íŒŒë¼ë¯¸í„°ë¥¼ BeanFactory ì—ì„œ ì°¾ì•„ì„œ ì£¼ìž…í•œë‹¤.
- [x] íŠ¹ì • íŒ¨í‚¤ì§€ì˜ í•˜ìœ„ ì „ì²´ íŒ¨í‚¤ì§€ì—ì„œ `@ComponentScan` ì• ë„ˆí…Œì´ì…˜ì´ ì ìš©ëœ í´ëž˜ìŠ¤ë¥¼ ì°¾ëŠ”ë‹¤.
  - [x] `@ComponentScan` ì• ë„ˆí…Œì´ì…˜ì— ì„¤ì •ëœ `basePackages` ê°’ì„ ì½ëŠ”ë‹¤. 
- [x] `@ComponentScan` ì˜ ê°’(íŒ¨í‚¤ì§€ ê²½ë¡œë“¤)ì„ BeanScanner ë¥¼ í†µí•´ ë¹ˆì„ ìƒì„±í•œë‹¤.
  - [x] scan ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ BeanFactory ë¥¼ ì£¼ìž…í•˜ì—¬ BeanFactory ì— Bean ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë“±ë¡í•œë‹¤.
- [x] BeanScanner, ConfigurationBeanScanner ë¡œ ë¹ˆì„ ì°¾ì•„ ë“±ë¡í•˜ëŠ” ì¼ì„ ì²˜ë¦¬í•  ê°ì²´ë¥¼ ë„ì¶œí•œë‹¤.
- [x] AnnotationHandlerMapping ì—ì„œ BeanScanner ë¥¼ ì§ì ‘ ì˜ì¡´í•˜ì§€ ì•Šê³  ìœ„ì—ì„œ ë§Œë“  ê°ì²´ì— ì˜ì¡´í•˜ì—¬ handlerExecutions ë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìžˆë„ë¡ í•œë‹¤.
- [x] BeanFactory ê°ì²´ë¥¼ ë¯¸ë¦¬ ìƒì„±í•´ë‘”ë‹¤.
  - ê¸°ì¡´ì˜ BeanScanner ì™€ ConfigurationBeanScanner ë¡œ ì°¾ì€ ë¹ˆì„ í•˜ë‚˜ì˜ BeanFactory ì—ì„œ ê´€ë¦¬í•˜ê¸° ìœ„í•¨.

### 3ë‹¨ê³„ í”¼ë“œë°±
- [x] BeanFactory í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ìƒì„±ìž ì œê±°  
- [x] ConfigurationBeanScanner ë§¤ê°œë³€ìˆ˜ ì—†ëŠ” ìˆœì„œëŒ€ë¡œ ì •ë ¬ ì œê±°
- [x] ConfigurationBeanScanner ì—ì„œ BeanFactory ì— ì§ì ‘ ë“±ë¡í•˜ì§€ ì•Šê³  ìŠ¤ìº”í•œ ë¹ˆì„ ë¦¬í„´í•˜ë„ë¡ ë³€ê²½
- [ ] ConfigurationBeanScanner ì—ì„œ getArguments ë©”ì„œë“œ ëŒ€ì‹  BeanFactory ì—ì„œ í´ëž˜ìŠ¤ë¥¼ ì œê³µë°›ëŠ” ë©”ì„œë“œ ì¶”ê°€ 
- [x] BeanScanner basePackage ë³€ìˆ˜ëª… ë‹¨ìˆ˜ -> ë³µìˆ˜í˜• ë³€ê²½
